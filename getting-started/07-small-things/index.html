
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation and tutorials for the LibLevelGen library.">
      
      
      
        <link rel="canonical" href="https://priw8.github.io/liblevelgen-doc/getting-started/07-small-things/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.6">
    
    
      
        <title>07. A variety of small things #1 - LibLevelGen</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="07. A variety of small things #1 - LibLevelGen" >
      
        <meta  property="og:description"  content="Documentation and tutorials for the LibLevelGen library." >
      
        <meta  property="og:image"  content="https://priw8.github.io/liblevelgen-doc/assets/images/social/getting-started/07-small-things.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://priw8.github.io/liblevelgen-doc/getting-started/07-small-things/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="07. A variety of small things #1 - LibLevelGen" >
      
        <meta  name="twitter:description"  content="Documentation and tutorials for the LibLevelGen library." >
      
        <meta  name="twitter:image"  content="https://priw8.github.io/liblevelgen-doc/assets/images/social/getting-started/07-small-things.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#07-a-variety-of-small-things-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LibLevelGen" class="md-header__button md-logo" aria-label="LibLevelGen" data-md-component="logo">
      
  <img src="../../icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LibLevelGen
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              07. A variety of small things #1
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://gitlab.com/Priw8/LibLevelGen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitLab
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LibLevelGen" class="md-nav__button md-logo" aria-label="LibLevelGen" data-md-component="logo">
      
  <img src="../../icon.png" alt="logo">

    </a>
    LibLevelGen
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitlab.com/Priw8/LibLevelGen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitLab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome to LibLevelGen
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-introduction/" class="md-nav__link">
        01. Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-basics/" class="md-nav__link">
        02. The basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-more-rooms/" class="md-nav__link">
        03. Creating more rooms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-room-types/" class="md-nav__link">
        04. Placing things in rooms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-tile-requirements/" class="md-nav__link">
        05. Selecting tiles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-level-sequence/" class="md-nav__link">
        06. Level sequence
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          07. A variety of small things #1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        07. A variety of small things #1
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#randomness" class="md-nav__link">
    Randomness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acquiring-entity-names" class="md-nav__link">
    Acquiring entity names
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#placing-traps" class="md-nav__link">
    Placing traps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-later-floors-harder" class="md-nav__link">
    Making later floors harder
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-bunch-of-automatic-things" class="md-nav__link">
    A bunch of automatic things
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Enemy.lua/" class="md-nav__link">
        Enemy.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Entity.lua/" class="md-nav__link">
        Entity.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/ErrorLevel.lua/" class="md-nav__link">
        ErrorLevel.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/LevelSequence.lua/" class="md-nav__link">
        LevelSequence.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/LibLevelGen.lua/" class="md-nav__link">
        LibLevelGen.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Loot.lua/" class="md-nav__link">
        Loot.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Rand.lua/" class="md-nav__link">
        Rand.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Room.lua/" class="md-nav__link">
        Room.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/SecretRoom.lua/" class="md-nav__link">
        SecretRoom.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/SecretShop.lua/" class="md-nav__link">
        SecretShop.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Segment.lua/" class="md-nav__link">
        Segment.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Settings.lua/" class="md-nav__link">
        Settings.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Shrine.lua/" class="md-nav__link">
        Shrine.lua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/Util.lua/" class="md-nav__link">
        Util.lua
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#randomness" class="md-nav__link">
    Randomness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acquiring-entity-names" class="md-nav__link">
    Acquiring entity names
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#placing-traps" class="md-nav__link">
    Placing traps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-later-floors-harder" class="md-nav__link">
    Making later floors harder
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-bunch-of-automatic-things" class="md-nav__link">
    A bunch of automatic things
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="07-a-variety-of-small-things-1">07. A variety of small things #1<a class="headerlink" href="#07-a-variety-of-small-things-1" title="Permanent link">&para;</a></h1>
<p>So generally, the most important things have been discussed in the previous part already. Yay!<br />
Still, that doesn't mean that there's nothing left to talk about - in fact, there's a whole bunch of small but neat things!</p>
<h2 id="randomness">Randomness<a class="headerlink" href="#randomness" title="Permanent link">&para;</a></h2>
<p>So far, the randomness in our level has been determined by built-in functions, but that doesn't mean we can't generate random numbers ourselves. The code we'll start with is <a href="../07-assets/code-start.html">this</a>.  </p>
<p>Let's try randomizing the levels of the Skeletons we spawn: we'll use <code>instance:randIntRange</code> for this.</p>
<blockquote>
<p><strong>You should not use the game's built-in RNG module for level generation in LibLevelGen! While it will work, it will make the levels different even on the same seed, unless you specifically set up proper RNG channels youself.</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeEnemies</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="c1">-- For convenience, objects have a reference to the instance they belong to.</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="c1">-- randIntRange is not inclusive for the 2nd number, so we get numbers from 1 to 3 here.</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Skeleton&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">OnWall</span><span class="p">,</span> <span class="s2">&quot;Spider&quot;</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kr">end</span>
</code></pre></div>
<p>Pretty simple so far. Another function we can use is <code>instance:randChoice</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeEnemies</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Skeleton&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">OnWall</span><span class="p">,</span> <span class="s2">&quot;Spider&quot;</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="kd">local</span> <span class="n">enemyType</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChoice</span> <span class="p">{</span><span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="s2">&quot;Bat&quot;</span><span class="p">,</span> <span class="s2">&quot;Ghost&quot;</span><span class="p">}</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="n">enemyType</span><span class="p">)</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="kr">end</span>
</code></pre></div>
Now we have 3 enemies per room: a Skeleton, a Spider and a random enemy that's either a Monkey, a Bat or a Ghost. There's also <code>instance:randChance</code>, which returns a boolean:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeEnemies</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Skeleton&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">OnWall</span><span class="p">,</span> <span class="s2">&quot;Spider&quot;</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="kd">local</span> <span class="n">enemyType</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChoice</span> <span class="p">{</span><span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="s2">&quot;Bat&quot;</span><span class="p">,</span> <span class="s2">&quot;Ghost&quot;</span><span class="p">}</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="n">enemyType</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="kr">if</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChance</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="kr">then</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">MovingSlime</span><span class="p">,</span> <span class="s2">&quot;Slime&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    <span class="kr">end</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="kr">end</span>
</code></pre></div>
Our rooms now have a 50% to chance to also contain a blue Slime. Notice how <code>tr.Enemy.MovingSlime</code> is used here - it's essentialy the same as <code>Generic</code>, but does not place the entity next to a wall. After all, our Slime would be pretty sad if we spawned it in a way that makes it unable to move, and we do not want to make the Slime sad.</p>
<p>Exit rooms typically have extra enemies, so we can throw in some extra ones too:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeEnemies</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Skeleton&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">OnWall</span><span class="p">,</span> <span class="s2">&quot;Spider&quot;</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="kd">local</span> <span class="n">enemyType</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChoice</span> <span class="p">{</span><span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="s2">&quot;Bat&quot;</span><span class="p">,</span> <span class="s2">&quot;Ghost&quot;</span><span class="p">}</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="n">enemyType</span><span class="p">)</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="kr">if</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChance</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="kr">then</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">MovingSlime</span><span class="p">,</span> <span class="s2">&quot;Slime&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="kr">end</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="kr">if</span> <span class="n">currentRoom</span><span class="p">:</span><span class="n">checkFlags</span><span class="p">(</span><span class="n">room</span><span class="p">.</span><span class="n">Flag</span><span class="p">.</span><span class="n">EXIT</span><span class="p">)</span> <span class="kr">then</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Slime&quot;</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="kr">end</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="kr">end</span>
</code></pre></div>
As mentioned in one of the earlier parts, room flags can be used to check for various properties of the room, including whether the room is an exit room. Anyhow, let's leave the <code>placeEnemies</code> function for now.</p>
<h2 id="acquiring-entity-names">Acquiring entity names<a class="headerlink" href="#acquiring-entity-names" title="Permanent link">&para;</a></h2>
<p>Okay, this section is a bit of a detour, but it's worth talking about. So far the entities we placed had fairly intuitive names, but it might not always be the case so it's worth knowing how to find the name of the entity you want. The built-in level editor is of great help here - and you can actually enable it mid-run!  </p>
<p>To enable the level editor for live-editing, open the menu and go to Customize -&gt; Downloadable Content. Then, use the icon shown below to enable display of individual feature packs:<br />
<img alt="menu1" src="../07-assets/editor-menu1.png" /><br />
Once you switch this option to "on", the feature packs will be displayed:<br />
<img alt="menu2" src="../07-assets/editor-menu2.png" /><br />
And you can activate the level editor! After doing that, exit the menus and right-click anywhere in the level to open the editor (and press escape to close it): 
<img alt="menu3" src="../07-assets/editor-menu3.png" /><br />
But we're not done yet - to show internal entity names, we need to activate this option in the editor settings:
<img alt="menu4" src="../07-assets/editor-menu4.png" /><br />
<img alt="menu5" src="../07-assets/editor-menu5.png" />  </p>
<p>And now finally, we can search for entities. To toggle the category list in the right panel, either press [Tab] on the keyboard or right click that panel. For example, let's go to the Traps category and check the entity name of the all-directional bounce trap:<br />
<img alt="menu6" src="../07-assets/editor-menu6.png" /><br />
There's a small subtitle telling us that it's called <code>BounceTrapOmni</code> when we hover over it. Cool!</p>
<p>The level editor can also be used to preview the level sequence if you go to Dungeon Settings (the Stairs icon in the toolbar), which may be useful for debugging and skipping to given levels.</p>
<h2 id="placing-traps">Placing traps<a class="headerlink" href="#placing-traps" title="Permanent link">&para;</a></h2>
<p>Traps are placed in the same way as enemies - let's go ahead and create a <code>placeTraps</code> function:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- in myGenerator function, below the iterateRooms call that calls placeEnemies...</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">mainSegment</span><span class="p">:</span><span class="n">iterateRooms</span><span class="p">(</span><span class="n">room</span><span class="p">.</span><span class="n">Flag</span><span class="p">.</span><span class="n">ALLOW_TRAP</span><span class="p">,</span> <span class="n">placeTraps</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">-- above the myGenerator function</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeTraps</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kr">end</span>
</code></pre></div>
Similarly to <code>ALLOW_ENEMY</code>, the <code>ALLOW_TRAP</code> flag can be used to check whether the room is suitable for trap placement. In this case it's similar to enemies, but the exit room will not have this flag set because exit rooms normally do not have traps. Either way, time to place some traps; the entity names can be acquired with the method explained above.
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeTraps</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="kd">local</span> <span class="n">trapTypes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;BombTrap&quot;</span><span class="p">,</span> <span class="s2">&quot;BounceTrapOmni&quot;</span><span class="p">,</span> <span class="s2">&quot;SpikeTrap&quot;</span><span class="p">,</span> <span class="s2">&quot;Sync_DiceTrap&quot;</span><span class="p">}</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    <span class="kd">local</span> <span class="n">trapCount</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="kr">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">trapCount</span> <span class="kr">do</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Trap</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChoice</span><span class="p">(</span><span class="n">trapTypes</span><span class="p">))</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    <span class="kr">end</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="kr">end</span>
</code></pre></div>
...to be honest, this is not exactly ideal - I think the trap count should instead be determined by the size of the room, to prevent small rooms from getting too many traps. I'm not going to do this here to keep things simple, but it's worth keeping room size in mind when placing things in it.  </p>
<h2 id="making-later-floors-harder">Making later floors harder<a class="headerlink" href="#making-later-floors-harder" title="Permanent link">&para;</a></h2>
<p>This is actually pretty simple to do - the <code>instance:getFloor()</code> method returns the current floor number, and you can use it to determine various things - for example, let's head back to <code>placeEnemies</code> for a moment and modify it a bit:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">placeEnemies</span><span class="p">(</span><span class="n">currentRoom</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="kd">local</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">currentRoom</span><span class="p">.</span><span class="n">instance</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="c1">-- !</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="kd">local</span> <span class="n">floor</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">getFloor</span><span class="p">()</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="c1">-- !</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Skeleton&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="p">:</span><span class="n">randIntRange</span><span class="p">(</span><span class="nb">math.min</span><span class="p">(</span><span class="n">floor</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">OnWall</span><span class="p">,</span> <span class="s2">&quot;Spider&quot;</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    <span class="kd">local</span> <span class="n">enemyType</span> <span class="o">=</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChoice</span> <span class="p">{</span><span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="s2">&quot;Bat&quot;</span><span class="p">,</span> <span class="s2">&quot;Ghost&quot;</span><span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="n">enemyType</span><span class="p">)</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>    <span class="c1">-- !</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>    <span class="kr">if</span> <span class="n">instance</span><span class="p">:</span><span class="n">randChance</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="ow">or</span> <span class="n">floor</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="kr">then</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">MovingSlime</span><span class="p">,</span> <span class="s2">&quot;Slime&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>    <span class="kr">end</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>    <span class="c1">-- !</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>    <span class="kr">if</span> <span class="n">floor</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="kr">then</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Bat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>    <span class="kr">end</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>    <span class="kr">if</span> <span class="n">currentRoom</span><span class="p">:</span><span class="n">checkFlags</span><span class="p">(</span><span class="n">room</span><span class="p">.</span><span class="n">Flag</span><span class="p">.</span><span class="n">EXIT</span><span class="p">)</span> <span class="kr">then</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Monkey&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>        <span class="n">currentRoom</span><span class="p">:</span><span class="n">placeEntityRand</span><span class="p">(</span><span class="n">tr</span><span class="p">.</span><span class="n">Enemy</span><span class="p">.</span><span class="n">Generic</span><span class="p">,</span> <span class="s2">&quot;Slime&quot;</span><span class="p">)</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>    <span class="kr">end</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="kr">end</span>
</code></pre></div>
I marked the modified parts with a <code>!</code> comment. While changing just the enemies is pretty basic, this is just an example -  there is a whole lot more you can do across the entire level!</p>
<h2 id="a-bunch-of-automatic-things">A bunch of automatic things<a class="headerlink" href="#a-bunch-of-automatic-things" title="Permanent link">&para;</a></h2>
<p>LibLevelGen has a few quite useful options that you can enable: let's add a little thing to our generator configuration...
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">libLevelGen</span><span class="p">.</span><span class="n">registerGenerator</span><span class="p">(</span><span class="s2">&quot;LibLevelGen Playground&quot;</span><span class="p">,</span> <span class="n">myGenerator</span><span class="p">,</span> <span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="n">placeShrines</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">-- !!!</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="n">levelsPerZone</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="n">zones</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">sequenceClb</span> <span class="o">=</span> <span class="n">levelSequence</span><span class="p">.</span><span class="n">templateAllZones</span><span class="p">()</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">})</span>
</code></pre></div>
And just like that, LibLevelGen will place shrines automatically in every zone:
<img alt="autoshrine" src="../07-assets/autoshrine.png" />  </p>
<blockquote>
<p><em>Note</em>: this feature had a bug in versions 1.0.0 and 1.1.0, update to 1.1.1 or later should issues occur.</p>
</blockquote>
<p>The same can be done with secret shops:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">libLevelGen</span><span class="p">.</span><span class="n">registerGenerator</span><span class="p">(</span><span class="s2">&quot;LibLevelGen Playground&quot;</span><span class="p">,</span> <span class="n">myGenerator</span><span class="p">,</span> <span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">placeShrines</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="n">placeSecretShops</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">-- !!!</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">levelsPerZone</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="n">zones</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">sequenceClb</span> <span class="o">=</span> <span class="n">levelSequence</span><span class="p">.</span><span class="n">templateAllZones</span><span class="p">()</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="p">})</span>
</code></pre></div>
<img alt="autoshop" src="../07-assets/autoshop.png" />  </p>
<p>You can even define your own shrines and shop types to be placed, but we'll talk about it later (since it's a bit more advanced).</p>
<p>There's more things like this, but I think this part is long enough by now - to be continued...</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../06-level-sequence/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 06. Level sequence" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              06. Level sequence
            </div>
          </div>
        </a>
      
      
        
        <a href="../../modules/Enemy.lua/" class="md-footer__link md-footer__link--next" aria-label="Next: Enemy.lua" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Enemy.lua
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>